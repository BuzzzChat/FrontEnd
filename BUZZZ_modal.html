<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link href="https://fonts.googleapis.com/css?family=PT+Sans+Narrow|Material+Icons&display=swap" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.css" rel="stylesheet">

		<title>BUZZZ</title>
	</head>
	<style>
:root{
	--zolty:  #FADE2a;
	--grey: #36342A;
	--black: #000000;
	--white: #f1f1f1;
	--avatar-size: 1.5em;
}

	body{
		font-family: 'PT Sans Narrow', sans-serif;
		font-size: 150%;
		padding: 0;
		margin: 0;

	}
	div{
		display: flex;
	}

	.split{
		flex-direction: row;
		height: 100vh;
	}

	.lewy{
		width: 23%;
		background-color: var(--black);
		color: var(--white);
		border-right: 0.125em solid var(--zolty);
		flex-direction: column;
	}

	.prawy{
		flex-grow: 2;
		background-color: black;
	}

	.listy{
		flex-grow: 1;
		flex-direction: column;
	}

	.material-icons{
		font-size: 1.25em;
		padding: 10px;
	}
	.icon-text {
		font-size: 100%;
		padding: inherit;
		line-height: inherit;
		vertical-align: middle;
	}

	.naglowek{
		flex-direction: row;
		justify-content: space-between;
		margin-bottom: 1.25em;
		background-color: var(--grey);
	}

	.user{
		--avatar-size: 3em;
		width: var(--avatar-size);
		height: var(--avatar-size);
		position: relative;
	}
	.user .avatar {
		position: absolute;
		top: 0.75em;
		margin: 0 auto;
		color: var(--black);
	}

	.wyszukiwarka{
		flex-direction: row;
	}

	h1{
		width: 100%;
		color: white;
	}

	.split2{
		flex-direction: column;
		justify-content: space-between;
		width: 100%;
	}
	.naglowek_rozmowy{
		flex-direction: row;
		height: 3em;
		background-color: var(--zolty);
		width: 100%;
	}

	.wiadomosc{
		height:3em;
		background-color: #36342a;
		flex-direction: row;
		justify-content: space-between;
	}
	.wpisywanie_wiadomosci{
		flex-grow: 7;
	}
	::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
	  color: grey;
	  opacity: 1; /* Firefox */
	}

	.wpisywanie{
		
	}
	.wpisywanie_wiadomosci input{
		margin: 10px;		
		width: 100%;
		height: 60%;
	}

	input{
		background-color: var(--black);
		border-color: var(--zolty);

	}
	.ikony_wiadomosci{
	}
	.nazwa_znajomego{
		flex-grow: 6;
		padding: 10px;
	}
	.ikony_znajomego{
		flex-grow: 1;
	}
	.ikony_uzytkownika{
		
	}


	.ikony_w_lewym{
		font-size: 1em;
	}

	.avatar {
		background-color: var(--zolty);
		border-radius: 50%;
		width: var(--avatar-size);
		height: var(--avatar-size);
		margin: 10px;
		vertical-align: middle;
		text-align: center;
	}
	.avatar span {
		font-size: calc(var(--avatar-size) * 0.75);
		line-height: 1;
		position: relative;
		top: 12.5%;
		width: 100%;
	}

	.dymek {
		padding: 0.25em;
		min-height: var(--avatar-size);
	}
	.dymek p {
		margin: 0 auto;
	}
	.czat{
		height: 100%;
		flex-direction: column;
		overflow-y: scroll;
	}
	.czat .scrollbox {
		width: 100%;
		height: 100%;
		flex-direction: column;
		/* visually remove anchor */
		margin-bottom: -1px;
	}
	.czat .scrollbox > :first-child {
		margin-top: auto !important;
	}
	.czat .scrollbox * {
		/* don't allow the children of the scrollable element to be selected as an anchor node */
		overflow-anchor: none;
	}
	.czat .scrollbox .anchor {
		/* allow the final child to be selected as an anchor node */
		overflow-anchor: auto;
		/* anchor nodes are required to have non-zero area */
		height: 1px;
	}

	.wiadomosc_znajomego, .wiadomosc_moja {
		margin-bottom: 0.5em;
		align-items: flex-end;
	}
	.wiadomosc_znajomego{
		justify-content: flex-start;
	}
	.wiadomosc_znajomego .dymek {
		border: 2px solid #dedede;
		border-radius: 5px;
		background-color: #f1f1f1;
	}
	.wiadomosc_moja {
		justify-content: flex-end;
	}
	.wiadomosc_moja .dymek {
		border: 2px solid #dedede;
		border-radius: 5px;
		background-color: grey;
		order: 1;
	}
	.wiadomosc_moja .avatar {
		order: 2;
	}

	.btn_lewy{
		background-color: inherit;
		color: inherit;
		border: none;
		cursor: pointer;
		font-size: 1.05em;
	}

	.btn_prawy{
		background-color: var(--zolty);
		border: none;
		cursor: pointer;
		color: black;
	}

	.Grupowy_czat{
		justify-content: space-between;
	}
	/* The Modal (background) */
	.modal {
		display: none; /* Hidden by default */
		position: fixed; /* Stay in place */
		z-index: 1; /* Sit on top */
		padding-top: 100px; /* Location of the box */
		left: 0;
		top: 0;
		width: 100%; /* Full width */
		height: 100%; /* Full height */
		overflow: auto; /* Enable scroll if needed */
		background-color: rgb(0,0,0); /* Fallback color */
		background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
	}

	/* Modal Content */
	.modal-content {
		background-color: #fefefe;
		margin: auto;
		padding: 20px;
		border: 1px solid #888;
		width: 80%;
	}

	/* The Close Button */
	.close {
		color: #aaaaaa;
		float: right;
		font-size: 28px;
		font-weight: bold;
	}

	.close:hover,
	.close:focus {
		color: #000;
		text-decoration: none;
		cursor: pointer;
	}
 </style>

 <!-- BODY -->
 <body>
	 <div class = "split">
		 <!-- Lewa podstrona-znajomi, wyszukiwarka, ustawienia profilu i wylogowanie -->
		 <div class = "lewy">
			 <div class = "naglowek">
				 <div class = "ikony_uzytkownika">
					 <!-- Edycja profilu -->
					 <button id = "btn_edycja" class = "btn_lewy">
						 <i class="material-icons">&#xe8b8;</i>
					 </button>
				 </div>
				 <div class="user">
					 <div class="avatar">
						 <span>Ja</span>
					 </div>
				 </div>
				 <div class = "ikony_uzytkownika">
					 <i class="material-icons">&#xe879;</i>
				 </div>
			 </div>
			 <!-- Wyszukiwarka -->
			 <div class = "wyszukiwarka">
				 <div class = "wpisywanie">
					 <input type = "text" placeholder="Szukaj...">
				 </div>
				 <div class = "przycisk">
					 <button class = "btn_lewy"><i class="material-icons">search</i></button>
				 </div>
			 </div>
			 <!-- Znajomi -->
			 <div class = "listy">
				 <div class = "znajomi">
					 <a> Znajomi </a>
				 </div>
				 <!-- Czat grupowy -->
				 <div class = "czat_grupowy">
					 <div class = "Grupowy_czat">
						 <a> Czat grupowy </a>
						 <a><i class="material-icons icon-text">add</i></a>
					 </div>
				 </div>
				 <!-- Zaproszenia -->
				 <div class = "Zaproszenia">
					 <a> Zaproszenia do znajomych </a>
				 </div>
			 </div>
		 </div>
		 <!-- Ekran rozmowy -->
		 <div class = "prawy">
			 <!-- MODALE -->
			 <!-- Edycja profilu modal-->
			 <div id="Edycja" class="modal">
				 <div class="modal-content">
					 <span class="close_edycja">&times;</span>
					 <p>Edycja profilu</p>
				 </div>
			 </div>
			 <div id="Zmiana" class="modal">
				 <div class="modal-content">
					 <span class="close_zmiana">&times;</span>
					 <p>Zmiana nazwy</p>
				 </div>
			 </div>
			 <div id="Blokowanie" class="modal">
				 <div class="modal-content">
					 <span class="close_blok">&times;</span>
					 <p>Czy na pewno chcesz zablokować tego użytkownika?</p>
				 </div>
			 </div>
			 <div id="Usuwanie" class="modal">
				 <div class="modal-content">
					 <span class="close_usuw">&times;</span>
					 <p>Czy na pewno chcesz usunąć tego użytkownika?</p>
				 </div>
			 </div>
			 <!-- KONIEC MODALI -->
			 <div class = "split2">
				 <!-- Naglowek znajomego -->
				 <div class = "naglowek_rozmowy">
					 <div class = "nazwa_znajomego">
						 <a> Nazwa znajomego</a>
					 </div>
					 <div class = ikony_znajomego">
						 <div class = "Zmiana">
							 <button id = "btn_zmiana" class = "btn_prawy">
								 <i class="material-icons">edit</i>
							 </button>
						 </div>
						 <!-- Blokowanie -->
						 <div class = "blokowanie">
							 <button id = "btn_blok" class = "btn_prawy">
								 <i class="material-icons">block</i>
							 </button>
						 </div>
						 <!-- Usuwanie -->
						 <div class = "Usuwanie">
							 <button id = "btn_usuw" class = "btn_prawy">
								 <i class="material-icons">delete</i>
							 </button>
						 </div>
					 </div>
				 </div>
				 <!-- Rozmowa -->
				 <div class = "czat">
					 <div class="scrollbox">
						 <!-- przeniesione do JS -->
						 <div class="anchor"></div>
					 </div>
				 </div>
				 <!-- Pisanie wiadomosci, wysylanie plikow, zdjec itp -->
				 <div class = "wiadomosc">
					 <div class = "ikony_wiadomosci">
						 <div class = "plik">
							 <i class="material-icons">insert_drive_file</i>
						 </div>
						 <div class = "zdjecie">
							 <i class="material-icons">add_photo_alternate</i>
						 </div>
						 <div class = "emoji">
							 <i class="material-icons">insert_emoticon</i>
						 </div>
					 </div>
					 <div class = "wpisywanie_wiadomosci">
						 <input id="message_input" type = "text" placeholder = "Napisz wiadomosc...">
					 </div>
					 <div class = "ikony_wiadomosci">
					 	<div class = "wyslij">
						 <button class = "btn_lewy"><i class="material-icons">send</i></button>
					 	</div>
					</div>
				 </div>
			 </div>
		 </div>
	 </div>

	 <script>
// Edycja profilu
var modal_edycja = document.getElementById("Edycja");
var btn = document.getElementById("btn_edycja");
var span_edycja = document.getElementsByClassName("close_edycja")[0];
btn.onclick = function() {
  modal_edycja.style.display = "block";
}
span_edycja.onclick = function() {
  modal_edycja.style.display = "none";
}
window.onclick = function(event) {
  if (event.target == modal_edycja) {
    modal_edycja.style.display = "none";
  }
}

// Zmiana nazwy
var modal_zmiana = document.getElementById("Zmiana");
var btn_zmiana = document.getElementById("btn_zmiana");
var span_zmiana = document.getElementsByClassName("close_zmiana")[0];
btn_zmiana.onclick = function() {
  modal_zmiana.style.display = "block";
}
span_zmiana.onclick = function() {
  modal_zmiana.style.display = "none";
}
window.onclick = function(event) {
  if (event.target == modal_zmiana) {
    modal_zmiana.style.display = "none";
  }
}

//blokowanie
var modal_blok = document.getElementById("Blokowanie");
var btn_blok = document.getElementById("btn_blok");
var span_blok = document.getElementsByClassName("close_blok")[0];
btn_blok.onclick = function() {
  modal_blok.style.display = "block";
}
span_blok.onclick = function() {
  modal_blok.style.display = "none";
}
window.onclick = function(event) {
  if (event.target == modal_blok) {
    modal_blok.style.display = "none";
  }
}

//Usuwanie
var modal_usuw = document.getElementById("Usuwanie");
var btn_usuw = document.getElementById("btn_usuw");
var span_usuw = document.getElementsByClassName("close_usuw")[0];
btn_usuw.onclick = function() {
  modal_usuw.style.display = "block";
}
span_usuw.onclick = function() {
  modal_usuw.style.display = "none";
}
window.onclick = function(event) {
  if (event.target == modal_usuw) {
    modal_usuw.style.display = "none";
  }
}
	 </script>
	<script>
		let messages = [
			[0, 'M', 'Cześć! Co tam u Ciebie słychać?'],
			[1, 'J', 'Hej! Wszystko dobrze. Strasznie fajny ten czat!'],
			[0, 'M', 'Wiadomość 1'],
			[1, 'J', 'Wiadomość 2']
		];

		function wiadomosc(czy_wychodzaca, inicjal, tresc) {
			let scroller = document.querySelector('.czat .scrollbox');
			let anchor = document.querySelector('.czat .scrollbox .anchor');

			let klasa = czy_wychodzaca ? 'wiadomosc_moja' : 'wiadomosc_znajomego';
			let div = document.createElement('div');
			div.innerHTML = `<div class = "${klasa}">
										<div class = "avatar">
												<span>${inicjal}</span>
										</div>
										<div class = "dymek">
												<div class = "dymek_znajomego">
														<p>${tresc}</p>
												</div>
										</div>
								</div>`;
			scroller.insertBefore(div.firstChild, anchor);
		}

		function dodaj_wiadomosc() {
			let [czy_moja, inicjal, tresc] = messages[0];
			wiadomosc(czy_moja, inicjal, tresc);
			messages.shift();
			if (messages.length) {
				setTimeout(dodaj_wiadomosc, 1000);
			}
		}

		setTimeout(dodaj_wiadomosc, 1000);

		document.querySelector('.wyslij .btn_lewy').addEventListener('click', event => {
			let input = document.getElementById('message_input');
			if (input.value) {
				wiadomosc(1, 'J', input.value);
			}
			input.value = '';
		});
		document.getElementById('message_input').addEventListener('keydown', event => {
			if (event.code == 'Enter') {
				document.querySelector('.wyslij .btn_lewy').click();
			}
		});

	</script>

	</body>
</html>
